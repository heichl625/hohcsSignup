{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/ApplicationForm.jsx","components/Register.jsx","components/protected-route.jsx","components/admin-route.jsx","components/Auth.jsx","components/Login.jsx","components/Adminastrative/Navigator.jsx","components/Adminastrative/WaitingList.jsx","components/Adminastrative/EnrollDetail.jsx","components/Adminastrative/ModifyCourse.jsx","components/Adminastrative/CourseDetail.jsx","components/Adminastrative/Admin.jsx","components/Adminastrative/CreateCourse.jsx","components/Adminastrative/History.jsx","components/Adminastrative/Future.jsx","components/RegisterWaitinglistRecord.jsx","components/RegisterRecordDetail.jsx","components/RegisterRecord.jsx","components/Adminastrative/AuthorizedList.jsx","components/App.jsx","index.js"],"names":["Header","useState","isLoggedOut","setLoggedOut","console","log","Navbar","bg","variant","Brand","href","Nav","className","Link","Button","onClick","fetch","method","headers","then","res","status","alert","localStorage","clear","catch","err","to","Footer","props","getItem","ApplicationForm","courseList","setCourseList","username","email","staffid","post","dept","course","newValue","setNewValue","isDataObtained","setIsDataObtained","fields","role","checkQuota","options","body","qs","stringify","json","quota","clearInput","waitinglist","_id","courseName","enroll","prevValue","handleChange","event","target","name","value","useEffect","setItem","length","Date","date","toLocaleDateString","src","Form","onSubmit","preventDefault","FormGroup","Label","Control","placeholder","size","onChange","InputGroup","type","Append","Text","as","map","getDate","getMonth","getFullYear","Register","password","userData","setUserData","isRegistered","setRegister","Fragment","user","msg","token","Group","ProtectedRoute","Component","component","rest","render","AdminRoute","this","authenticated","cb","Login","isDirected","redirect","setRedirect","reLogin","setRelogin","Navigatior","WaitingList","courseID","isBack","setIsBack","records","setRecords","EnrollDetail","courseDetail","Card","Body","Table","striped","bordered","hover","record","data","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","setAttribute","append","click","removeChild","download","Parser","parse","enrollRecords","setEnrollRecords","setWaitingList","CourseDetail","selectedCourse","withBOM","ModifyCourse","setCourse","isModified","setIsModified","parseDate","setParseDate","newDate","day","month","year","time","venue","tutor","FormControl","aria-label","rows","description","getCourseDetail","setGetCourseDetail","setCourseDetail","modify","setModify","location","reload","Title","message","Admin","initialCourse","couseName","courses","setCourses","selectedID","setSelectedID","courseToParse","setCourseToParse","find","defaultActiveKey","onSelect","selectedKey","eventKey","CreateCourse","newCourse","setNewCourse","isCreated","setIsCreated","cousreName","History","Future","RegisterWaitinglistRecord","loaded","setLoaded","details","setDetails","setCourseID","noResult","setNoResult","RegisterRecordDetail","detail","waitingList","RegisterRecord","period","setPeriod","isLoaded","setIsLoaded","noCourse","setNoCourse","handleClick","handleSidebarClick","AuthorizedList","setUsername","list","setList","isObtained","setIsObtained","clicked","isClicked","setisClicked","error","item","index","App","axios","get","removeItem","exact","path","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.43fc2e51.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport { Redirect } from \"react-router-dom\";\n\nfunction Header(){\n\n    const [isLoggedOut, setLoggedOut] = useState(\"false\");\n\n    console.log(\"rendering header\");\n\n\n    function handleLogout(){\n\n        const url = '/logout';\n        const options = {\n            method: \"GET\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\"\n            }\n        };\n\n        fetch(url, options)\n        .then(res => {\n            if(res.status === 200){\n                console.log(\"Logout now\");\n                alert(\"登出成功\");\n                localStorage.clear();\n                setLoggedOut(\"true\");\n            }else{\n                return \"error\";\n            }\n            \n        }).catch(err => {\n            console.log(\"Login: \" + err);\n        });\n\n    }\n\n    return (\n\n    <Navbar bg=\"primary\" variant=\"dark\">\n        <Navbar.Brand href=\"/\">靈實員工培訓課程報名系統</Navbar.Brand>\n        <Nav className=\"mr-auto\">\n            <Nav.Link href=\"/register-record\">報名記錄</Nav.Link>\n        </Nav>\n        <Button variant=\"outline-light\" onClick={handleLogout}>登出</Button>\n\n        { isLoggedOut === \"true\" && <Redirect to=\"/login\" /> }\n    </Navbar>\n    \n    );\n\n}\n\nexport default Header;\n\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\n\nfunction Footer(props){\n\n    return <footer>\n        {localStorage.getItem('isAdmin') && <Link to=\"/admin\" className=\"adminLink\">管理員模式</Link> }\n    </footer>;\n}\n\nexport default Footer; ","import React, {useState, useEffect} from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport qs from 'qs';\n\nfunction ApplicationForm(){\n\n\n    const [courseList, setCourseList] = useState([{}]);\n\n    const [newValue, setNewValue] = useState({\n        username: \"\",\n        email: \"\",\n        staffid: \"\",\n        post: \"\",\n        dept: \"\",\n        course: \"\",\n    });\n    \n    const [isDataObtained, setIsDataObtained] = useState(false);\n   \n\n    const fields = [\"姓名\", \"電郵\", \"職員編號\", \"職位\", \"單位\", \"報讀課程\"];\n    var role = \"\";\n\n    function getFutureCourses(){\n\n        const futureCourseURL = \"/futureCourse\";\n        const futureCourseOptions = {\n            method: \"GET\",\n            headers: {\n              \"Accept\": \"application/json\",\n            }\n        };\n\n        fetch(futureCourseURL, futureCourseOptions)\n        .then(res => res.json())\n        .then(res => {\n            if(res.length > 0){\n                    setCourseList(res);\n                    setNewValue(prevValue => {\n    \n                        const date = new Date(res[0].date);\n                        const dateStr = date.toLocaleDateString();\n    \n                        return{\n                            ...prevValue,\n                            course: res[0]\n                        }\n                    })\n                }\n            console.log(newValue.course);\n            setIsDataObtained(true);\n        }).catch(err => {\n            console.log(\"futureCourse: \" + err);\n        });\n    }\n\n    useEffect( () => {\n\n        if(!isDataObtained){\n            const url = \"/user\";\n            const options = {\n                method: \"POST\",\n                headers: {\n                  \"Accept\": \"application/json\",\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                body: qs.stringify({\"username\": localStorage.getItem(\"username\")})\n            };\n\n            fetch(url, options)\n            .then(res => res.json())\n            .then(res => {\n\n                role = res.role;\n\n                if(role === \"admin\"){\n                    localStorage.setItem(\"isAdmin\", true);\n                }\n\n                setNewValue({\n                    username: res.name,\n                    email: res.username,\n                    staffid: res.staffid,\n                    post: res.post,\n                    dept: res.dept,\n                    course: \"\"\n                })\n            }).catch(err => {\n                console.log(\"user: \" + err);\n            });\n            getFutureCourses();\n        }\n            \n\n    })\n\n    function enroll(course){\n\n        const url = \"/enroll\";\n        const options = {\n            method: \"POST\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: qs.stringify({\n                \"courseID\": course._id, \n                \"enrollment\": newValue,\n                \"courseName\": course.courseName,\n                \"registeredBy\": localStorage.getItem(\"username\")\n            })\n        };\n\n        fetch(url, options)\n        .then(res => {\n            if(res.status === 200){\n                alert(\"成功報讀課程\");\n                clearInput();\n            }else{\n                alert(\"未能成功報讀課程, 請稍後再嘗試\");\n            }\n        }).catch(err => {\n            console.log(\"enroll: \" + err);\n        });\n    }\n\n    function waitinglist(){\n\n        const url = \"/waitinglist\";\n        const options = {\n            method: \"POST\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: qs.stringify({\n                \"enrollment\": newValue,\n                \"registeredBy\": localStorage.getItem(\"username\")\n            })\n        };\n\n        fetch(url, options)\n        .then(res => {\n            if(res.status === 200){\n                alert(\"課程名額暫滿，你將會加進後備名單。如最後能夠成功報讀，屆時將會以公司電郵通知\");\n                clearInput();\n            }else{\n                alert(\"發生錯誤，請稍後再嘗試\");\n            }\n        }).catch(err => {\n            console.log(\"waitinglist: \" + err);\n        });\n    }\n\n\n    function checkQuota(){\n\n        if(newValue.email !== \"\"){\n\n            console.log(\"CourseID: \" + newValue.course);\n            const url = \"/checkQuota\";\n            const options = {\n                method: \"POST\",\n                headers: {\n                  \"Accept\": \"application/json\",\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                body: qs.stringify({\n                    \"courseID\": newValue.course\n                })\n            };\n\n            fetch(url, options)\n            .then(res => {\n                if(res.status === 200){\n                    return res.json()\n                }else{\n                    alert(\"發生錯誤，請稍後再嘗試\");\n                    return \"error\";\n                }\n            })\n            .then(res => {\n                console.log(res);\n                if(res.quota === 0){\n                    waitinglist();\n                }else if(res !== \"error\"){\n                    enroll(res);\n                }\n            }).catch(err => {\n                console.log(\"Login: \" + err);\n            });\n        }else{\n            alert(\"請輸入有效資料\");\n        }\n    }\n\n\n    function handleSubmit(event){\n\n        event.preventDefault();\n        checkQuota();\n        //enroll();\n    }\n\n    function clearInput(){\n\n        setNewValue(prevValue => {\n                    \n            return {\n                ...prevValue,\n                username: \"\",\n                email: \"\",\n                staffid: \"\",\n                post: \"\",\n                dept: \"\",\n                course: \"\"\n            }\n\n        });\n\n    }\n\n\n    function handleChange(event){\n\n        const {name, value} = event.target;\n\n        console.log(value);\n\n        setNewValue(prevValue => {\n            return{\n                ...prevValue,\n                [name]: value\n            }; \n        });\n\n    }\n\n    return (\n        <div>\n    <Header />\n    <img src=\"https://www.hohcs.org.hk/App/Modules/Admin/Tpl/Static/upload/image/20170418/20170418125117_21846.png\" className=\"formIcon\"/>\n\n    <p className=\"reminderText\">如替其他同事報名，請填上同事資料</p>\n\n    \n    <Form className=\"inputForm\" onSubmit={handleSubmit}>\n    \n        <div className=\"inputRow\">\n            <div className=\"inputItem\">\n                <FormGroup>\n                    <Form.Label className=\"inputLabel\">名稱:</Form.Label>\n                    <Form.Control placeholder={fields[0]} size=\"lg\" onChange={handleChange} value={newValue.username} name=\"username\"></Form.Control>\n                </FormGroup>\n            </div>\n\n            <div className=\"inputItem\"></div>\n\n            <div className=\"inputItem\">\n                <FormGroup className=\"inputItem\">\n                    <Form.Label className=\"inputLabel\">電郵:</Form.Label>\n                    <InputGroup>\n                        <Form.Control placeholder={fields[1]} size=\"lg\" name=\"email\" type=\"text\" onChange={handleChange} value={newValue.email} className=\"input\"></Form.Control>\n                        <InputGroup.Append>\n                            <InputGroup.Text>@hohsc.org.hk</InputGroup.Text>\n                        </InputGroup.Append>\n                    </InputGroup> \n                </FormGroup>\n            </div>\n        </div>\n            \n        <div className=\"inputRow\">\n\n            <div className=\"inputItem\">\n\n                <FormGroup>\n                    <Form.Label className=\"inputLabel\">職員編號:</Form.Label>\n                    <Form.Control placeholder={fields[2]} size=\"lg\" onChange={handleChange} value={newValue.staffid} name=\"staffid\"></Form.Control>\n                </FormGroup>\n            </div>\n\n            <div className=\"inputItem\"></div>\n\n            <div className=\"inputItem\">\n                <FormGroup>\n                    <Form.Label className=\"inputLabel\">職位:</Form.Label>\n                    <Form.Control placeholder={fields[3]} size=\"lg\" onChange={handleChange} value={newValue.post} name=\"post\"></Form.Control>\n                </FormGroup>\n            </div>\n\n        </div>\n            \n\n        <div className=\"inputRow\">\n\n            <div className=\"inputItem\">\n                <FormGroup>\n                    <Form.Label className=\"inputLabel\">單位:</Form.Label>\n                    <Form.Control placeholder={fields[4]} size=\"lg\" onChange={handleChange} value={newValue.dept} name=\"dept\"></Form.Control>\n                </FormGroup>\n            </div>\n\n            <div className=\"inputItem\"></div>\n\n            <div className=\"inputItem\">\n                <FormGroup>\n                    <Form.Label className=\"inputLabel\">報讀課程:</Form.Label>\n                    <Form.Control size=\"lg\" onChange={handleChange} name=\"course\" as=\"select\" className=\"courseSelection\">\n                        <option>請選擇課程</option>\n                        {courseList.length > 0 && courseList.map(course => {\n                            var date = new Date(course.date);\n                        return <option value={course._id}>{course.courseName} {date.getDate()}/{date.getMonth()}/{date.getFullYear()}</option>\n                        })}\n                    </Form.Control>\n                </FormGroup>\n            </div>\n\n        </div>\n\n        <div className=\"btnWrapper\">\n            <Button variant=\"primary\" size=\"lg\" type=\"submit\" className=\"submitBtn\">提交</Button>\n\n            <Button variant=\"danger\" size=\"lg\" onClick={clearInput} className=\"clearBtn\">清除所有資料</Button>\n        </div>\n\n    </Form>\n    <Footer role={role}/>\n    </div>\n    );\n}\n\nexport default ApplicationForm;","import React, {useState} from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Button from 'react-bootstrap/Button';\nimport { Redirect } from 'react-router-dom';\nimport qs from 'qs';\n\nexport default function Register(){\n\n    const [userData, setUserData] = useState({\n\n        username: \"\",\n        password: \"\",\n        staffid: \"\",\n        name: \"\",\n        post: \"\",\n        dept: \"\"\n\n    });\n\n    const [isRegistered, setRegister] = useState(false)\n\n    function handleChange(event){\n\n        const {name, value} = event.target;\n        \n        setUserData(prevValue => {\n            return{\n                ...prevValue,\n                [name]: value\n            }; \n        });\n        \n    }\n\n    function handleRegister(event){\n\n        event.preventDefault();\n\n        const user = {\n            username: userData.username,\n            password: userData.password,\n            staffid: userData.staffid,\n            name: userData.name,\n            post: userData.post,\n            dept: userData.dept\n        };\n\n        const url = '/register';\n        const options = {\n            method: 'POST',\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: qs.stringify(user)\n        };\n\n        fetch(url, options)\n        .then(res => {\n            if(res.status === 200){\n                return res.json();\n            }else{\n                return \"error\";\n            }\n        })\n        .then(res => {\n            if(res !== \"error\"){\n                if(res.msg === \"Not Authorized\"){\n                    alert(\"你的電郵並未獲得授權，因此不能註冊\");\n                }else{\n                    localStorage.setItem('userToken', res.token);\n                    localStorage.setItem('isAuthorized', true);\n                    localStorage.setItem('username', res.user.username);\n                    setRegister(true);\n                }\n            }else{\n                alert(\"未能成功註冊，請再嘗試\");\n                setUserData({\n                    username: \"\",\n                    password: \"\",\n                    staffid: \"\",\n                    name: \"\",\n                    post: \"\",\n                    dept: \"\"\n                })\n            }\n            \n        })\n    }\n\n    return (\n        <React.Fragment>\n\n            <img src=\"https://www.hohcs.org.hk/App/Modules/Admin/Tpl/Static/upload/image/20170418/20170418125117_21846.png\" className=\"icon-register\"/>\n\n                <Form onSubmit={handleRegister}>\n\n                            <Form.Group className=\"inputGroup\">\n                                <Form.Label className=\"inputLabel\">電郵:</Form.Label>\n                                <InputGroup>\n                                    <Form.Control placeholder=\"請輸入電郵\" className=\"input\" name=\"username\" onChange={handleChange} value={userData.username}></Form.Control>\n                                    <InputGroup.Append>\n                                        <InputGroup.Text>@hohsc.org.hk</InputGroup.Text>\n                                    </InputGroup.Append>\n                                </InputGroup> \n                            </Form.Group>\n\n\n                            <Form.Group className=\"inputGroup\">\n                                <Form.Label className=\"inputLabel\">密碼:</Form.Label>\n                                <Form.Control placeholder=\"請輸入密碼\" onChange={handleChange} name=\"password\" value={userData.password} type=\"password\" className=\"input\"></Form.Control>\n                            </Form.Group>\n\n\n\n                            <Form.Group className=\"inputGroup\">\n                                <Form.Label className=\"inputLabel\">姓名:</Form.Label>\n                                <Form.Control placeholder=\"請輸入姓名\" onChange={handleChange} name=\"name\" value={userData.name} type=\"text\" className=\"input\"></Form.Control>\n                            </Form.Group>\n\n\n                            <Form.Group className=\"inputGroup\">\n                                <Form.Label className=\"inputLabel\"> 單位:</Form.Label>\n                                <Form.Control placeholder=\"請輸入單位\" onChange={handleChange} name=\"dept\" value={userData.dept} type=\"text\" className=\"input\"></Form.Control>\n                            </Form.Group>\n\n                            <Form.Group className=\"inputGroup\">\n                                <Form.Label className=\"inputLabel\"> 職位:</Form.Label>\n                                <Form.Control placeholder=\"請輸入職位\" onChange={handleChange} name=\"post\" value={userData.post} type=\"text\" className=\"input\"></Form.Control>\n                            </Form.Group>\n\n\n                            <Form.Group className=\"inputGroup\">\n                                <Form.Label className=\"inputLabel\"> 職員編號:</Form.Label>\n                                <Form.Control placeholder=\"請輸入職員編號\" onChange={handleChange} name=\"staffid\" value={userData.staffid} type=\"text\" className=\"input\"></Form.Control>\n                            </Form.Group>\n\n                        <Button variant=\"primary\" size=\"lg\" className=\"registerBtn\" type=\"submit\">註冊</Button>\n\n                { isRegistered && <Redirect to=\"/\" /> }\n                </Form>\n\n        </React.Fragment>\n    );\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const ProtectedRoute = ({component: Component, ...rest}) => {\n\n    return (\n        <Route {...rest} render={\n            (props) => {\n                if(localStorage.getItem('isAuthorized')){\n                    return <Component {...props}/>;\n                }else{\n                    return <Redirect to=\"/login\" />;\n                }\n            }\n        }>\n\n        </Route>\n    );\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const AdminRoute = ({component: Component, ...rest}) => {\n\n    return (\n        <Route {...rest} render={\n            (props) => {\n                if(localStorage.getItem('isAdmin')){\n                    return <Component {...props}/>;\n                }else{\n                    return <Redirect to=\"/\" />;\n                }\n            }\n        }>\n\n        </Route>\n    );\n}","class Auth {\n    constructor(){\n        this.authenticated = false;\n    }\n\n    login(cb){\n        this.authenticated = true;\n        cb();\n    }\n\n    logout(cb){\n        this.authenticated = false;\n        cb();\n    }\n\n    isAuthenticated(){\n        return this.authenticated;\n    }\n}\n\nexport default new Auth();","import React, { useState } from \"react\";\nimport auth from \"./Auth\";\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Button from 'react-bootstrap/Button';\nimport { Link, Redirect } from 'react-router-dom';\nimport qs from 'qs';\n\nfunction Login() {\n\n    const [userData, setUserData] = useState({\n\n        username: \"\",\n        password: \"\"\n\n    });\n\n    const [redirect, setRedirect] = useState({\n        to: \"\",\n        isDirected: null\n    });\n\n    const [reLogin, setRelogin] = useState(false);\n\n    if(localStorage.getItem('isAuthorized')){\n        return <Redirect to=\"/\" />;\n    }\n\n\n    function handleChange(event){\n\n        const {name, value} = event.target;\n\n        setUserData(prevValue => {\n            return {\n                ...prevValue,\n                [name]: value\n            };\n        });\n\n    }\n\n    function handleSubmit(event){\n\n        const user = {\n            \"username\": userData.username,\n            \"password\": userData.password\n        }\n\n        event.preventDefault();\n\n        const url = '/login';\n        const options = {\n            method: 'POST',\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: qs.stringify(user)\n        };\n\n        fetch(url, options)\n        .then(res => {\n            if(res.status === 200){\n                return res.json();\n            }else{\n                return \"error\";\n            }\n            \n        })\n        .then(res => {\n\n            if(res !== \"error\"){\n                localStorage.setItem('userToken', res.token);\n                localStorage.setItem('isAuthorized', true);\n                localStorage.setItem('username', res.user.username);\n                setRedirect({\n                    to: \"/\",\n                    isDirected: true\n                });\n            }else{\n                setRelogin(true);\n                setUserData({\n                    username: \"\",\n                    password: \"\"\n                })\n            }\n            \n        }).catch(err => {\n            console.log(\"Login: \" + err);\n        });\n    }\n\n    return(\n        <React.Fragment>\n        <img src=\"https://www.hohcs.org.hk/App/Modules/Admin/Tpl/Static/upload/image/20170418/20170418125117_21846.png\" className=\"icon\"/>\n\n    { reLogin && <p className=\"loginError\">登入電郵或密碼錯誤，請重新輸入</p> }\n    \n    {/* onSubmit={handleSubmit} */}\n        <Form onSubmit={handleSubmit} className=\"formInput\">\n            \n                    <InputGroup className=\"loginInput\">\n                        <Form.Control placeholder=\"電郵\" className=\"input\" name=\"username\" onChange={handleChange} value={userData.username}></Form.Control>\n                        <InputGroup.Append>\n                            <InputGroup.Text className=\"emailText\">@hohsc.org.hk</InputGroup.Text>\n                        </InputGroup.Append>\n                    </InputGroup> \n       \n         \n                    <Form.Group className=\"loginInput\">\n                        <Form.Control placeholder=\"密碼\" onChange={handleChange} name=\"password\" value={userData.password} type=\"password\"></Form.Control>\n                    </Form.Group>\n            \n            {/* onClick={handleLogin} */}\n                <Button variant=\"primary\" size=\"lg\" className=\"loginBtn\" type=\"submit\">登入</Button>\n                <p className=\"remindText\">如未曾註冊，請先註冊。</p>\n\n                \n                <Link to=\"/register\">\n                    <Button variant=\"secondary\" size=\"lg\" className=\"registerBtn\">註冊</Button>\n                </Link>\n                \n                \n                \n        </Form>\n        {redirect.isDirected && <Redirect to={redirect.to} /> }\n\n        </React.Fragment>\n    );\n\n}\n\nexport default Login;","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n\nexport default function Navigatior(){\n    return (\n        <Navbar bg=\"primary\" variant=\"dark\">\n          <Navbar.Brand href=\"/admin\">課程報名系統</Navbar.Brand>\n          <Nav className=\"mr-auto\">\n            <Nav.Link href=\"/createcourse\">新增課程</Nav.Link>\n            <Nav.Link href=\"/history\">以往課程</Nav.Link>\n            <Nav.Link href=\"/admin\">今天課程</Nav.Link>\n            <Nav.Link href=\"/future\">未來課程</Nav.Link>\n            <Nav.Link href=\"/authorized-list\">授權名單</Nav.Link>\n          </Nav>\n          <Nav>\n            <Nav.Link href=\"/\">返回報名表格</Nav.Link>\n          </Nav>\n        </Navbar>\n    );\n}\n","import React, {useState, useEffect} from 'react';\nimport EnrollDetail from './EnrollDetail';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport { Parser } from 'json2csv';\nimport qs from 'qs';\n\nexport default function WaitingList(props){\n\n    const courseID = props.courseID;\n    const [isBack, setIsBack] = useState(false);\n    const [records, setRecords] = useState([]);\n\n    useEffect(() => {\n\n        const url = '/waitinglistByCourseID';\n        const options = {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: qs.stringify({\n                courseID: courseID\n            })\n        };\n\n        fetch(url, options)\n        .then(res => res.json())\n        .then(res => {\n            if(records.length === 0){\n                setRecords(res.records);\n            }\n        })\n    })\n\n    function backBtnClicked(){\n        setIsBack(true);\n    }\n\n    function handleExport(){\n\n        console.log(records);\n\n        const fields = [\"username\", \"email\", \"staffid\", \"dept\", \"post\", \"registeredBy\"];\n        const options = { fields }\n\n        const parser = new Parser(options);\n        const csv = parser.parse(records);\n\n        download(csv);\n\n    }\n\n    function download(data){\n\n        const blob = new Blob([data], {type: \"text/csv\"});\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.setAttribute('hidden', '');\n        a.setAttribute('href', url);\n        a.setAttribute('download', props.courseDetail.courseName + \"_waitinglist.csv\");\n        document.body.append(a)\n        a.click();\n        document.body.removeChild(a);\n\n    }\n\n    if(isBack){\n        return <EnrollDetail courseDetail={props.courseDetail} course={props.course}/>\n    }\n\n    return (\n\n        <React.Fragment>\n\n        <Card className=\"detailCard\">\n            <Card.Header className=\"enrollHeaderWrapper\">\n                <Button className=\"backBtn\" onClick={backBtnClicked}>返回查看報名名單</Button>\n                <h1 className=\"enrollDetailTitle\">{props.courseDetail.courseName} (後補名單)</h1>\n            </Card.Header>\n            <Card.Body>\n                <Table striped bordered hover>\n                    <thead>\n                      <tr>\n                        <th>職員編號</th>\n                        <th>姓名</th>\n                        <th>電郵</th>\n                        <th>單位</th>\n                        <th>職位</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n\n                         {records && records.map(record => {\n                            return (\n                                <tr>\n                                    <td>{record.staffid}</td>\n                                    <td>{record.username}</td>\n                                    <td>{record.email}</td>\n                                    <td>{record.dept}</td>\n                                    <td>{record.post}</td>\n                                </tr>\n                            )\n                        })}\n                      \n                    </tbody>\n                </Table>\n                <div className=\"cardBottom\">\n                    <p className=\"enrollNum\">總候補人數： { records && records.length}</p>\n                    <Button className=\"exportBtn\" variant=\"primary\" onClick={handleExport}>匯出候補名單(.csv)</Button>\n                </div>\n          </Card.Body>\n        </Card>\n        </React.Fragment>\n\n    ); \n\n}","import React, { useState, useEffect } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport CourseDetail from './CourseDetail';\nimport WaitingList from './WaitingList';\nimport { Parser } from 'json2csv';\n\nexport default function EnrollDetail(props){\n\n    const [enrollRecords, setEnrollRecords] = useState([]);\n    const [waitinglist, setWaitingList] = useState(false);\n    const [isBack, setIsBack] = useState(false);\n\n    useEffect(() => {\n        setEnrollRecords(props.courseDetail.records);\n    })\n\n    function backBtnClicked(){\n        setIsBack(true);\n    }\n\n    function waitinglistBtnClicked(){\n        setWaitingList(true);\n    }\n\n    function handleExport(){\n\n        const fields = [\"username\", \"email\", \"staffid\", \"dept\", \"post\", \"registeredBy\"];\n        const options = { fields }\n\n        const parser = new Parser(options, {withBOM: true});\n        const csv = parser.parse(enrollRecords);\n        \n        download(csv);\n\n    }\n\n    function download(data){\n\n        const blob = new Blob([data], {type: \"text/csv;charset=utf-8,\\uFEFF\"});\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.setAttribute('hidden', '');\n        a.setAttribute('href', url);\n        a.setAttribute('download', props.courseDetail.courseName + \".csv\");\n        document.body.append(a)\n        a.click();\n        document.body.removeChild(a);\n\n    }\n\n    if(isBack){\n        return <CourseDetail selectedCourse={props.course}/>\n    }\n\n    if(waitinglist){\n        return <WaitingList courseID={props.course._id} courseDetail={props.courseDetail} course={props.course}/>\n    }\n\n    return (\n\n        <Card className=\"detailCard\">\n            <Card.Header className=\"enrollHeaderWrapper\">\n                <Button className=\"backBtn\" onClick={backBtnClicked}>返回查看課程資料</Button>\n                {console.log(props.courseDetail)}\n                <h1 className=\"enrollDetailTitle\">{props.courseDetail.courseName}</h1>\n                <Button className=\"waitinglistBtn\" onClick={waitinglistBtnClicked}>查看後補名單</Button>\n            </Card.Header>\n            <Card.Body>\n                <Table striped bordered hover>\n                    <thead>\n                      <tr>\n                        <th>職員編號</th>\n                        <th>姓名</th>\n                        <th>電郵</th>\n                        <th>單位</th>\n                        <th>職位</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n\n                         {enrollRecords && enrollRecords.map(record => {\n                            return (\n                                <tr>\n                                    <td>{record.staffid}</td>\n                                    <td>{record.username}</td>\n                                    <td>{record.email}</td>\n                                    <td>{record.dept}</td>\n                                    <td>{record.post}</td>\n                                </tr>\n                            );\n                        })}\n                      \n                    </tbody>\n                </Table>\n                <div className=\"cardBottom\">\n                    <p className=\"enrollNum\">總報名人數： { enrollRecords && enrollRecords.length}</p>\n                    <Button className=\"exportBtn\" variant=\"primary\" onClick={handleExport}>匯出名單(.csv)</Button>\n                </div>\n          </Card.Body>\n        </Card>\n\n    );\n}","import React, {useState} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { Redirect } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport qs from 'qs'\nimport { useEffect } from 'react';\nimport CourseDetail from './CourseDetail';\n\nexport default function ModifyCourse(props){\n\n    const [course, setCourse] = useState(props.course);\n    // const [courseToParse, setCourseToParse] = useState();\n    const [isModified, setIsModified] = useState(false);\n    const [parseDate, setParseDate] = useState(false);\n    const [redirect, setRedirect] = useState(false);\n\n    console.log(course);\n\n    useEffect(() => {\n        if(!parseDate){\n\n            const newDate = new Date(course.date);\n            var day = newDate.getDate();\n            var month = newDate.getMonth()+1;\n            const year = newDate.getFullYear();\n\n            if(day <= 9){\n                day = \"0\" + day;\n            }\n\n            if(month <= 9){\n                month = \"0\"+month;\n            }\n\n            setCourse( prevValue => {\n                return {\n                    ...prevValue,\n                    date: year + \"-\" + month + \"-\" + day\n                }\n            })\n            setParseDate(true);\n        }\n    })\n\n    function handleChange(event){\n        const {name, value} = event.target;\n\n        setCourse(prevValue => {\n            return{\n                ...prevValue,\n                [name]: value\n            }\n        })\n    }\n\n    function handleModify(event){\n\n        event.preventDefault();\n\n        const url = \"/modifyCourse\";\n        const options = {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: qs.stringify({course: course})\n        }\n\n        fetch(url, options)\n        .then(res => {\n            if(res.status === 200){\n                return res.json();\n            }else{\n                return \"error\";\n            }\n        })\n        .then(res => {\n            if(res !== \"error\"){\n                if(!res.msg){\n                    alert(\"成功修改課程\");\n                    setIsModified(true);\n                }else{\n                    alert(\"未能修改課程，請稍後再嘗試\");\n                }\n            }else{\n                alert(\"未能修改課程，請稍後再嘗試\");\n            }\n        })\n        \n    }\n\n\n    return (\n        <React.Fragment>\n        <h1 className=\"modifyCourseTitle\">修改課程資料</h1>\n\n        <Form onSubmit={handleModify}>\n\n            <div className=\"modifyForm\">\n                <div className=\"inputRow\">\n                    <Form.Group className=\"inputItem\">\n                        <Form.Label className=\"inputLabel\">課程名稱:</Form.Label>\n                        <Form.Control placeholder=\"請輸入課程名稱\" className=\"input\" name=\"courseName\" type=\"text\" onChange={handleChange} value={course.courseName}></Form.Control>\n                    </Form.Group>\n                    <div className=\"inputItem\"></div>\n                    <Form.Group className=\"inputItem\">\n                        <Form.Label className=\"inputLabel\">上課日期:</Form.Label>\n                        <Form.Control placeholder=\"請輸入上課日期\" className=\"input inputDate\" name=\"date\" type=\"date\" onChange={handleChange} value={course.date}></Form.Control>\n                    </Form.Group>\n                </div>\n\n                \n                    <div className=\"inputRow\">\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel\">上課時間:</Form.Label>\n                            <Form.Control placeholder=\"請輸入上課時間\" className=\"input\" name=\"time\" type=\"time\" onChange={handleChange} value={course.time}></Form.Control>\n                        </Form.Group>\n                        <div className=\"inputItem\"></div>\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel\">上課地點:</Form.Label>\n                            <Form.Control placeholder=\"請輸入上課地點\" className=\"input\" name=\"venue\" type=\"text\" onChange={handleChange} value={course.venue}></Form.Control>\n                        </Form.Group>\n                    </div>\n\n                    <div className=\"inputRow\">\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel\">課程名額:</Form.Label>\n                            <Form.Control placeholder=\"請輸入課程名額\" className=\"input\" name=\"quota\" type=\"number\" onChange={handleChange} value={course.quota}></Form.Control>\n                        </Form.Group>\n                        <div className=\"inputItem\"></div>\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel\">課程導師:</Form.Label>\n                            <Form.Control placeholder=\"請輸入課程導師\" className=\"input\" name=\"tutor\" type=\"text\" onChange={handleChange} value={course.tutor}></Form.Control>\n                        </Form.Group>\n                    </div>\n                    <div className=\"inputRow\">\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel courseDescriptionText\">課程簡介:</Form.Label>\n                            <FormControl as=\"textarea\" aria-label=\"With textarea\" rows=\"4\" name=\"description\" onChange={handleChange} value={course.description}/>\n                        </Form.Group>\n                    </div>\n                <Button variant=\"primary\" size=\"lg\" className=\"createBtn\" type=\"submit\">修改課程</Button>\n            \n            </div>\n\n            { isModified && <Redirect to=\"/admin\"/> }\n\n        </Form>\n        </React.Fragment>\n    );\n\n}","import React, { useState } from 'react';\nimport qs from 'qs';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport EnrollDetail from './EnrollDetail';\nimport ModifyCourse from './ModifyCourse';\n\nexport default function CourseDetail(props){\n\n    var date;\n\n    if(props.selectedCourse){\n      date = new Date(props.selectedCourse.date);\n    }\n    const [getCourseDetail, setGetCourseDetail] = useState(false);\n\n    const [courseDetail, setCourseDetail] = useState({});\n\n    const [modify, setModify] = useState(false);\n\n    function handleClick(){\n\n      const courseID = props.selectedCourse._id;\n\n      const url = '/enrollDetail';\n        const options = {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: qs.stringify({courseID: courseID})\n        };\n\n        fetch(url, options)\n        .then(res => res.json())\n        .then(res => {\n            if(res.message === \"未有報名記錄\"){\n              alert(res.message)\n            }else{\n              setGetCourseDetail(true);\n              setCourseDetail(res);\n            }\n        })\n\n    }\n\n    function handleDelete(){\n\n      const courseID = props.selectedCourse._id;\n\n      const url = '/deleteCourse';\n        const options = {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: qs.stringify({courseID: courseID})\n        };\n\n        fetch(url, options)\n        .then(res => {\n          if(res.status === 200){\n            alert(\"成功刪除課程\");\n            window.location.reload(true);\n          }else{\n            alert(\"發生錯誤，請稍後再試\");\n          }\n        })\n\n    }\n\n    function handleModify(){\n      setModify(true);\n    }\n\n    if(getCourseDetail){\n      return <EnrollDetail courseDetail={courseDetail} course={props.selectedCourse}/>\n    }\n\n    if(modify){\n      return <ModifyCourse course={props.selectedCourse}/>\n    }\n    \n    \n    return(\n        <div>\n            <Card className=\"detailCard\">\n              <Card.Header className=\"cardDetailWrapper\">\n                    <Button className=\"backBtn\" onClick={handleModify}>修改課程資料</Button>\n                    <h1 className=\"courseTitle\">{props.selectedCourse && props.selectedCourse.courseName}</h1>\n                    <Button variant=\"danger\" className=\"deleteBtn\" onClick={handleDelete}>刪除課程</Button>\n              </Card.Header>\n              <Card.Body>\n                <Card.Title className=\"courseDescription\">{props.selectedCourse && props.selectedCourse.description}</Card.Title>\n                <Card.Text className=\"courseInfo\">上課日期: {date && date.toLocaleDateString()} {props.selectedCourse && props.selectedCourse.time}</Card.Text>\n                <Card.Text className=\"courseInfo\">上課地點: {props.selectedCourse && props.selectedCourse.venue}</Card.Text>\n                <Card.Text className=\"courseInfo\">課程導師: {props.selectedCourse && props.selectedCourse.tutor}</Card.Text>\n                <Card.Text className=\"courseInfo\">尚餘名額: {props.selectedCourse && props.selectedCourse.quota}</Card.Text>\n                <Button variant=\"primary\" className=\"adminEnrollRecordBtn\" onClick={handleClick}>查看報名情況</Button>\n              </Card.Body>\n            </Card>\n        </div>\n    );\n\n}","import React, {useState, useEffect} from 'react';\nimport Navigator from './Navigator';\nimport CourseDetail from './CourseDetail';\nimport Nav from 'react-bootstrap/Nav';\n\n\n\nexport default function Admin(){\n\n    const initialCourse = [{\n        _id: \"\",\n        couseName: \"\",\n        date: \"\",\n        time: \"\",\n        venue: \"\",\n        quota: 0,\n        tutor: \"\",\n        description: \"\"\n    }];\n\n    const[courses, setCourses] = useState(initialCourse);\n    const [selectedID, setSelectedID] = useState(\"\");\n    const [courseToParse, setCourseToParse] = useState(initialCourse[0]);\n\n    useEffect(() => {\n\n        const url = '/adminTodayCourse';\n        const options = {\n            method: 'GET',\n            headers: {\n              'Accept': 'application/json',\n            },\n        };\n\n        fetch(url, options)\n        .then(res => res.json())\n        .then(res => {\n            if(courses === initialCourse){\n                setCourses(res);\n            }\n        })\n\n        setCourseToParse(courses.find(course => course._id === selectedID));\n    })\n\n\n    return (\n        <div>\n            <Navigator />\n            <div className=\"sidebar\">\n\n                <h4 className=\"sidebarTitle\">今天課程</h4>\n\n                <Nav defaultActiveKey=\"\" className=\"flex-column\" onSelect={(selectedKey) => setSelectedID(selectedKey)}>\n\n                    {courses.map(course => {\n                        const date = new Date(course.date);\n                        return <Nav.Link eventKey={course._id} className=\"courseLink\">{course.courseName} {date.toLocaleDateString()}</Nav.Link>\n                    })}\n\n                    {courses.length === 0 && <p className=\"noCourse\">今天沒有課程</p>}\n\n                </Nav>\n            \n            </div>\n            \n            { selectedID && <CourseDetail selectedCourse={courseToParse}/> }\n                \n        \n    </div>\n    );\n}","import React, { useState } from 'react';\nimport Navigator from './Navigator';\nimport Button from 'react-bootstrap/Button';\nimport { Redirect } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport qs from 'qs'\n\n\n\nexport default function CreateCourse(){\n\n    const[newCourse, setNewCourse] = useState({\n        courseName: \"\",\n        date: \"\",\n        time: \"\",\n        venue: \"\",\n        quota: 0,\n        tutor: \"\",\n        description: \"\"\n\n    })\n\n    const[isCreated, setIsCreated] = useState(false);\n\n    function handleChange(event){\n\n        const {name, value} = event.target;\n\n        setNewCourse(prevValue => {\n            return{\n                ...prevValue,\n                [name]: value\n            }\n        });\n\n    }\n\n    function handleCreate(event){\n        event.preventDefault();\n        \n        const url = '/createcourse';\n        const options = {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: qs.stringify(newCourse)\n        };\n\n        fetch(url, options)\n        .then(res => {\n            if(res){\n                alert(\"成功新增課程\");\n                setIsCreated(true);\n            }\n        })\n\n    }\n\n    return (\n        <React.Fragment>\n        <Navigator />\n        <h1 className=\"createCourseTitle\">新增課程</h1>\n\n        <Form onSubmit={handleCreate}>\n\n            <div className=\"inputForm\">\n                <div className=\"inputRow\">\n                    <Form.Group className=\"inputItem\">\n                        <Form.Label className=\"inputLabel\">課程名稱:</Form.Label>\n                        <Form.Control placeholder=\"請輸入課程名稱\" className=\"input\" name=\"courseName\" type=\"text\" onChange={handleChange} value={newCourse.cousreName}></Form.Control>\n                    </Form.Group>\n                    <div className=\"inputItem\"></div>\n                    <Form.Group className=\"inputItem\">\n                        <Form.Label className=\"inputLabel\">上課日期:</Form.Label>\n                        <Form.Control placeholder=\"請輸入上課日期\" className=\"input\" name=\"date\" type=\"date\" onChange={handleChange} value={newCourse.date}></Form.Control>\n                    </Form.Group>\n                </div>\n\n                \n                    <div className=\"inputRow\">\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel\">上課時間:</Form.Label>\n                            <Form.Control placeholder=\"請輸入上課時間\" className=\"input\" name=\"time\" type=\"time\" onChange={handleChange} value={newCourse.time}></Form.Control>\n                        </Form.Group>\n                        <div className=\"inputItem\"></div>\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel\">上課地點:</Form.Label>\n                            <Form.Control placeholder=\"請輸入上課地點\" className=\"input\" name=\"venue\" type=\"text\" onChange={handleChange} value={newCourse.venue}></Form.Control>\n                        </Form.Group>\n                    </div>\n\n                    <div className=\"inputRow\">\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel\">課程名額:</Form.Label>\n                            <Form.Control placeholder=\"請輸入課程名額\" className=\"input\" name=\"quota\" type=\"number\" onChange={handleChange} value={newCourse.quota}></Form.Control>\n                        </Form.Group>\n                        <div className=\"inputItem\"></div>\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel\">課程導師:</Form.Label>\n                            <Form.Control placeholder=\"請輸入課程導師\" className=\"input\" name=\"tutor\" type=\"text\" onChange={handleChange} value={newCourse.tutor}></Form.Control>\n                        </Form.Group>\n                    </div>\n                    <div className=\"inputRow\">\n                        <Form.Group className=\"inputItem\">\n                            <Form.Label className=\"inputLabel courseDescriptionText\">課程簡介:</Form.Label>\n                            <FormControl as=\"textarea\" aria-label=\"With textarea\" rows=\"4\" name=\"description\" onChange={handleChange} value={newCourse.description}/>\n                        </Form.Group>\n                    </div>\n                <Button variant=\"primary\" size=\"lg\" className=\"createBtn\" type=\"submit\">新增課程</Button>\n\n                { isCreated && <Redirect to=\"/admin\"/> }\n            \n            </div>\n\n        </Form>\n    </React.Fragment>\n    );\n}","import React, { useState, useEffect } from 'react';\nimport Navigator from './Navigator';\nimport CourseDetail from './CourseDetail';\nimport Nav from \"react-bootstrap/Nav\";\n\nexport default function History(){\n\n    const initialCourse = [{\n        _id: \"\",\n        couseName: \"\",\n        date: \"\",\n        time: \"\",\n        venue: \"\",\n        quota: 0,\n        tutor: \"\",\n        description: \"\"\n    }];\n\n    const[courses, setCourses] = useState(initialCourse);\n    const [selectedID, setSelectedID] = useState(\"\");\n    const [courseToParse, setCourseToParse] = useState(initialCourse[0]);\n\n    useEffect(() => {\n\n        const url = '/adminPastCourse';\n        const options = {\n            method: 'GET',\n            headers: {\n              'Accept': 'application/json',\n            },\n        };\n\n        fetch(url, options)\n        .then(res => res.json())\n        .then(res => {\n            if(courses === initialCourse){\n                setCourses(res);\n            }\n        })\n\n        setCourseToParse(courses.find(course => course._id === selectedID));\n    })\n\n    return (\n        <div>\n\n        <Navigator />\n\n        <div className=\"sidebar\">\n\n            <h4 className=\"sidebarTitle\">以往課程</h4>\n\n                <Nav defaultActiveKey=\"\" className=\"flex-column\" onSelect={(selectedKey) => setSelectedID(selectedKey)}>\n\n                    {courses.map(course => {\n                        const date = new Date(course.date);\n                        return <Nav.Link eventKey={course._id} className=\"courseLink\">{course.courseName} {date.toLocaleDateString()}</Nav.Link>\n                    })}\n                \n                    {courses.length === 0 && <p className=\"noCourse\">沒有過往課程</p>}\n                </Nav>\n\n        </div>\n\n        { selectedID && <CourseDetail selectedCourse={courseToParse}/> }\n\n    );\n\n    </div>\n    );\n\n}","import React, { useState, useEffect } from 'react';\nimport Navigator from './Navigator';\nimport CourseDetail from './CourseDetail';\nimport Nav from \"react-bootstrap/Nav\";\n\nexport default function Future(){\n\n    const initialCourse = [{\n        _id: \"\",\n        couseName: \"\",\n        date: \"\",\n        time: \"\",\n        venue: \"\",\n        quota: 0,\n        tutor: \"\",\n        description: \"\"\n    }];\n\n    const[courses, setCourses] = useState(initialCourse);\n    const [selectedID, setSelectedID] = useState(\"\");\n    const [courseToParse, setCourseToParse] = useState(initialCourse[0]);\n\n    useEffect(() => {\n\n        const url = '/adminFutureCourse';\n        const options = {\n            method: 'GET',\n            headers: {\n              'Accept': 'application/json',\n            },\n        };\n\n        fetch(url, options)\n        .then(res => res.json())\n        .then(res => {\n            if(courses === initialCourse){\n                \n                setCourses(res);\n            }\n        })\n\n        setCourseToParse(courses.find(course => course._id === selectedID));\n    })\n\n    return (\n        <div>\n\n        <Navigator />\n\n        <div className=\"sidebar\">\n\n            <h4 className=\"sidebarTitle\">未來課程</h4>\n\n                <Nav defaultActiveKey=\"\" className=\"flex-column\" onSelect={(selectedKey) => setSelectedID(selectedKey)}>\n\n                    {courses.map(course => {\n                        const date = new Date(course.date);\n                        return <Nav.Link eventKey={course._id} className=\"courseLink\">{course.courseName} {date.toLocaleDateString()}</Nav.Link>\n                    })}\n\n                    {courses.length === 0 && <p className=\"noCourse\">沒有未來課程</p>}\n                \n                </Nav>\n\n        </div>\n\n        { selectedID && <CourseDetail selectedCourse={courseToParse}/> }\n\n    );\n\n    </div>\n    );\n\n}","import React, {useState, useEffect} from 'react';\nimport RegisterRecordDetail from './RegisterRecordDetail';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport qs from 'qs';\n\nexport default function RegisterWaitinglistRecord(props){\n\n    const [loaded, setLoaded] = useState(false);\n    const [details, setDetails] = useState();\n    const [courseID, setCourseID] = useState(\"\");\n    const [noResult, setNoResult] = useState();\n    const [isBack, setIsBack] = useState(false);\n\n    useEffect(() => {\n\n        if(!loaded || courseID !== props.selectedCourse._id){\n\n            setCourseID(props.selectedCourse._id);\n\n            const url = '/register-record-waitinglist';\n            const options = {\n                method: 'POST',\n                headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/x-www-form-urlencoded'\n                },\n                body: qs.stringify({\n                    courseID: props.selectedCourse._id,\n                    username: localStorage.getItem(\"username\")\n                })\n            };\n\n            fetch(url, options)\n            .then(res => {\n                if(res.status !== 403){\n                    return res.json();\n                }else{\n                    return \"error\";\n                }\n            })\n            .then(res => {\n                \n                if(res !== \"error\"){\n                    setNoResult(false);\n                    setDetails(res);\n                }else{\n                    setNoResult(true);\n                    setDetails();\n                }\n            })\n\n            setLoaded(true);\n        }\n    })\n\n    function handleClick(){\n        setIsBack(true);\n    }\n\n    if(isBack){\n        return <RegisterRecordDetail selectedCourse={props.selectedCourse}/>\n    }\n\n    return (\n\n        <React.Fragment>\n\n                <Card className=\"detailCard\">\n                    <Card.Header className=\"cardDetailWrapper\">\n                        <Button className=\"backBtn\" onClick={handleClick}>返回查看報名紀錄</Button>\n                        <h1 className=\"courseTitle\">{props.selectedCourse && props.selectedCourse.courseName}</h1>\n                    </Card.Header>\n                    <Card.Body>\n                    {noResult && <p>你並沒有此課程的後補報名紀錄</p>}\n                    <Table striped bordered hover>\n                        <thead>\n                          <tr>\n                            <th>職員編號</th>\n                            <th>姓名</th>\n                            <th>電郵</th>\n                            <th>單位</th>\n                            <th>職位</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                            {details && details.map(detail => {\n                                return <tr>\n                                    <td>{detail.staffid}</td>\n                                    <td>{detail.username}</td>\n                                    <td>{detail.email}</td>\n                                    <td>{detail.dept}</td>\n                                    <td>{detail.post}</td>\n                                </tr>\n                            })}\n                        </tbody>\n                    </Table>\n              </Card.Body>\n            </Card>\n                        \n        </React.Fragment>\n\n    );\n\n\n}","import React, { useState, useEffect } from 'react';\nimport Card from 'react-bootstrap/Card'\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport RegisterWaitinglistRecord from './RegisterWaitinglistRecord';\nimport qs from 'qs';\n\nexport default function RegisterRecordDetail(props){\n\n    const [courseID, setCourseID] = useState(\"\");\n    const [details, setDetails] = useState();\n    const [noResult, setNoResult] = useState();\n    const [loaded, setLoaded] = useState(false);\n    const [waitingList, setWaitingList] = useState(false);\n\n    useEffect(() => {\n\n        if(!loaded || courseID !== props.selectedCourse._id){\n\n            setCourseID(props.selectedCourse._id);\n\n            const url = '/register-record';\n            const options = {\n                method: 'POST',\n                headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/x-www-form-urlencoded'\n                },\n                body: qs.stringify({\n                    courseID: props.selectedCourse._id,\n                    username: localStorage.getItem(\"username\")\n                })\n            };\n\n            fetch(url, options)\n            .then(res => {\n                if(res.status !== 403){\n                    return res.json();\n                }else{\n                    return \"error\";\n                }\n            })\n            .then(res => {\n                \n                if(res !== \"error\"){\n                    setNoResult(false);\n                    setDetails(res);\n                }else{\n                    setNoResult(true);\n                    setDetails();\n                }\n            })\n\n            setLoaded(true);\n        }\n    })\n\n    function handleClick(){\n        setWaitingList(true);\n    }\n\n    if(waitingList){\n        return <RegisterWaitinglistRecord selectedCourse={props.selectedCourse}/>\n    }\n\n    return(\n\n        <React.Fragment>\n\n            <Card className=\"detailCard\">\n                <Card.Header className=\"cardDetailWrapper\">\n                    <h1 className=\"courseTitle\">{props.selectedCourse && props.selectedCourse.courseName}</h1>\n                    <Button className=\"waitinglistBtn\" onClick={handleClick}>查看後補名單</Button>\n                </Card.Header>\n                <Card.Body>\n                {noResult && <p>你並沒有此課程的報名紀錄</p>}\n                <Table striped bordered hover>\n                    <thead>\n                      <tr>\n                        <th>職員編號</th>\n                        <th>姓名</th>\n                        <th>電郵</th>\n                        <th>單位</th>\n                        <th>職位</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                        {details && details.map(detail => {\n                            return <tr>\n                                <td>{detail.staffid}</td>\n                                <td>{detail.username}</td>\n                                <td>{detail.email}</td>\n                                <td>{detail.dept}</td>\n                                <td>{detail.post}</td>\n                            </tr>\n                        })}\n                    </tbody>\n                </Table>\n          </Card.Body>\n        </Card>\n            \n    </React.Fragment>\n\n    );\n\n}","import React, {useState, useEffect} from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport RegisterRecordDetail from './RegisterRecordDetail';\nimport qs from 'qs';\n\nexport default function RegisterRecord(){\n\n    const initialCourse = [{\n        _id: \"\",\n        couseName: \"\",\n        date: \"\",\n        time: \"\",\n        venue: \"\",\n        quota: 0,\n        tutor: \"\",\n        description: \"\"\n    }];\n\n    const[courses, setCourses] = useState(initialCourse);\n    const [selectedID, setSelectedID] = useState();\n    const [period, setPeriod] = useState(\"今天\");\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [noCourse, setNoCourse] = useState(false);\n\n    useEffect(() => {\n\n        if(!isLoaded){\n            const url = '/course-by-date';\n            const options = {\n                method: 'POST',\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/x-www-form-urlencoded'\n                },\n                body: qs.stringify({\n                    period: period\n                })\n            };\n\n            fetch(url, options)\n            .then(res => res.json())\n            .then(res => {\n                if(res.length === 0){\n                    setNoCourse(true);\n                    setCourses(initialCourse);\n                }else{\n                    if(res !== courses){\n                        setCourses(res);\n                    }\n                    setNoCourse(false);\n                }\n            })\n            setIsLoaded(true);\n        }\n    })\n\n    function handleClick(selectedKey){\n        switch(selectedKey){\n            case \"0\":\n                setPeriod(\"過往\");\n                setIsLoaded(false);\n                setSelectedID();\n                break;\n            case \"1\":\n                setPeriod(\"今天\");\n                setIsLoaded(false);\n                setSelectedID();\n                break;\n            case \"2\":\n                setPeriod(\"未來\");\n                setIsLoaded(false);\n                setSelectedID();\n                break;\n            default:\n                break;\n        }\n        \n    }\n\n    function handleSidebarClick(selectedKey){\n        setSelectedID(selectedKey);\n    }\n\n    return(\n        <React.Fragment>\n        <Navbar bg=\"primary\" variant=\"dark\">\n            <Navbar.Brand href=\"/\">靈實員工培訓課程報名系統</Navbar.Brand>\n            <Nav className=\"mr-auto\" defaultActiveKey=\"\" onSelect={(selectedKey) => handleClick(selectedKey)}>\n                <Nav.Link eventKey=\"0\" >過往課程</Nav.Link>\n                <Nav.Link eventKey=\"1\" >今天課程</Nav.Link>\n                <Nav.Link eventKey=\"2\" >末來課程</Nav.Link>\n            </Nav>\n        </Navbar>\n        <div className=\"sidebar\">\n\n            <h4 className=\"sidebarTitle\">{period}課程</h4>\n            { noCourse && <p className=\"noCourse\">暫沒有課程</p> }\n            <Nav defaultActiveKey=\"\" className=\"flex-column\" onSelect={(selectedKey) => handleSidebarClick(selectedKey)}>\n                {!noCourse && courses.map(course => {\n                    const date = new Date(course.date);\n                    return <Nav.Link eventKey={course._id} className=\"courseLink\">{course.courseName} {date.toLocaleDateString()}</Nav.Link>\n                })}\n            </Nav>\n\n        </div>\n        \n        {selectedID && <RegisterRecordDetail selectedCourse={courses.find(course => course._id === selectedID)} />}\n\n        </React.Fragment>\n    );\n\n}","import React, {useState, useEffect} from 'react';\nimport Navigator from './Navigator';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Button from 'react-bootstrap/Button';\nimport Table from 'react-bootstrap/Table';\nimport qs from 'qs';\n\nexport default function AuthorizedList() {\n\n    const [username, setUsername] = useState(\"\");\n    const [list, setList] = useState([]);\n    const [isObtained, setIsObtained] = useState(false);\n    const [isClicked, setisClicked] = useState({\n        clicked: false,\n        email: \"\"\n    });\n\n    useEffect(() => {\n        if(!isObtained){\n            const getURL = \"/get-authorized-list\";\n            const getOptions = {\n                method: \"GET\",\n                headers: {\n                  \"Accept\": \"application/json\",\n                }\n            };\n\n            fetch(getURL, getOptions)\n            .then(res => {\n                if(res.status === 200){\n                    return res.json();\n                }else{\n                    return \"error\";\n                }\n            })\n            .then(res => {\n                if(res !== \"error\"){\n                    console.log(res);\n                    setList(res);\n                    setIsObtained(true);\n                } \n            }).catch(error => {\n                console.log(error);\n            });\n        }\n\n        if(isClicked.clicked){\n\n            const url = \"/delete-authorized-list\";\n            const options = {\n                method: \"POST\",\n                headers: {\n                  \"Accept\": \"application/json\",\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                body: qs.stringify({\n                    \"email\": isClicked.email\n                })\n            };\n\n            console.log(options.body);\n\n            fetch(url, options)\n            .then(res => {\n                if(res.status === 200){\n                    alert(\"成功從授權名單中移除此電郵\");\n                    setisClicked(false);\n                    setIsObtained(false);\n                }else{\n                    alert(\"未能從授權名單中移除此電郵\");\n                }\n            })\n\n        }\n\n    })\n\n\n    function handleChange(event){\n\n        const {value} = event.target;\n        \n        setUsername(value);\n    }\n\n    function handleSubmit(event){\n\n        event.preventDefault();\n\n        const url = \"/add-authorized-list\";\n        const options = {\n            method: \"POST\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: qs.stringify({\n                \"email\": username+\"@hohcs.org.hk\"\n            })\n        };\n\n        fetch(url, options)\n        .then(res => {\n            if(res.status === 200){\n                alert(\"成功新增授權電郵\");\n                setUsername(\"\");\n                setIsObtained(false);\n\n            }else{\n                alert(\"發生錯誤，請稍後再嘗試\");\n            }\n        });\n\n    }\n\n    return (\n\n        <React.Fragment>\n\n            <Navigator />\n            <Card className=\"authorizedCard\">\n\n                <Card.Header className=\"cardDetailWrapper\"><h1 className=\"authorizedTitle\">授權名單</h1></Card.Header>\n                <Card.Body>\n                    <Form className=\"authorizedForm\" onSubmit={handleSubmit}>\n                    <InputGroup>\n                        <Form.Control type=\"text\" className=\"input\" placeholder=\"輸入電郵\" name=\"username\" onChange={handleChange} value={username}></Form.Control>\n                        <InputGroup.Append>\n                            <InputGroup.Text>@hohsc.org.hk</InputGroup.Text>\n                        </InputGroup.Append>\n                        <InputGroup.Append>\n                            <Button className=\"addBtn\" type=\"submit\">+</Button>\n                        </InputGroup.Append>\n                    </InputGroup>\n                    </Form>\n                    <Table className=\"authorizedTable\">\n                        <thead>\n                            <tr>\n                                <th>#</th>\n                                <th>己授權名單</th>\n                            </tr>\n                        </thead>\n                        {list && list.map((item, index) => {\n                            return (\n                                <tr>\n                                    <td>{index+1}</td>\n                                    <td>{item.email}</td>\n                                    <td><Button className=\"authorizedDeleteBtn\" variant=\"danger\" onClick={() => setisClicked({\n                                        clicked: true,\n                                        email: item.email})}>移除</Button></td>\n                                </tr>\n                            )\n                        })}\n                    </Table>\n                </Card.Body>\n\n            </Card>\n        </React.Fragment>\n\n    )\n\n}","import React, {useEffect} from \"react\";\nimport ApplicationForm from \"./ApplicationForm\";\nimport Register from \"./Register\";\nimport { ProtectedRoute } from \"./protected-route\";\nimport { AdminRoute } from \"./admin-route\";\nimport Login from \"./Login\";\nimport Admin from \"./Adminastrative/Admin\";\nimport CreateCourse from \"./Adminastrative/CreateCourse\";\nimport History from \"./Adminastrative/History\";\nimport Future from \"./Adminastrative/Future\";\nimport RegisterRecord from \"./RegisterRecord\";\nimport axios from 'axios';\n\nimport { BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport AuthorizedList from \"./Adminastrative/AuthorizedList\";\n\n\nexport default function App(props) {\n\n    \n\n    useEffect(() => {\n        axios.get(\"/isAuthenticated\",  \n        { headers:\n            { \n                \"Content-Type\" : \"Application/json\",\n                'Accept': 'application/json',\n                \"Authorization\": `Bearer ${localStorage.getItem('userToken')}`\n            }\n        })\n        .then(res => {\n            localStorage.setItem(\"isAuthorized\", true);\n        }).catch(function (error) {\n            localStorage.removeItem(\"isAuthorized\");\n        });\n    })\n\n    \n    return(\n    <Router>\n        <Switch>\n            <Route component={Login} exact path=\"/login\" />\n            <ProtectedRoute component={ApplicationForm} exact path=\"/\" />\n            <AdminRoute component={Admin} exact path=\"/admin\" />\n            <AdminRoute component={CreateCourse} exact path=\"/createcourse\" />\n            <AdminRoute component={History} exact path=\"/history\" />\n            <AdminRoute component={Future} exact path=\"/future\" />\n            <AdminRoute component={AuthorizedList} exact path=\"/authorized-list\" />\n            <Route component={Register} exact path=\"/register\"/>\n            <Route component={RegisterRecord} exact path=\"/register-record\"/>\n        </Switch>\n    </Router> \n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}