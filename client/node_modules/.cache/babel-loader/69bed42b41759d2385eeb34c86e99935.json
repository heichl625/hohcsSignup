{"ast":null,"code":"var _jsxFileName = \"/Users/cheukheilo/Desktop/hohcsSignup/Frontend/src/components/Adminastrative/CourseDetail.jsx\";\nimport React, { useState } from 'react';\nimport qs from 'qs';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport EnrollDetail from './EnrollDetail';\nexport default function CourseDetail(props) {\n  console.log(\"CourseDetail\");\n  var date;\n\n  if (props.selectedCourse) {\n    date = new Date(props.selectedCourse.date);\n  }\n\n  const [getCourseDetail, setGetCourseDetail] = useState(false);\n  const [courseDetail, setCourseDetail] = useState({});\n\n  function handleClick() {\n    const courseID = props.selectedCourse._id;\n    const url = 'http://localhost:5000/enrollDetail';\n    const options = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: qs.stringify({\n        courseID: courseID\n      })\n    };\n    fetch(url, options).then(res => res.json()).then(res => {\n      console.log(res);\n\n      if (res.message === \"未有報名記錄\") {\n        alert(res.message);\n      } else {\n        setGetCourseDetail(true);\n        setCourseDetail(res);\n      }\n    });\n  }\n\n  function handleDelete() {\n    const courseID = props.selectedCourse._id;\n    const url = 'http://localhost:5000/deleteCourse';\n    const options = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: qs.stringify({\n        courseID: courseID\n      })\n    };\n    fetch(url, options).then(res => {\n      if (res.status === 200) {\n        alert(\"成功刪除課程\");\n        window.location.reload(true);\n      } else {\n        alert(\"發生錯誤，請稍後再試\");\n      }\n    });\n  }\n\n  if (getCourseDetail) {\n    return /*#__PURE__*/React.createElement(EnrollDetail, {\n      courseDetail: courseDetail,\n      course: props.selectedCourse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 14\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, console.log(getCourseDetail), /*#__PURE__*/React.createElement(Card, {\n    className: \"detailCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"cardDetailWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"courseTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, props.selectedCourse && props.selectedCourse.courseName), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    className: \"deleteBtn\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \"\\u522A\\u9664\\u8AB2\\u7A0B\")), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    className: \"courseDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, props.selectedCourse && props.selectedCourse.description), /*#__PURE__*/React.createElement(Card.Text, {\n    className: \"courseInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"\\u4E0A\\u8AB2\\u65E5\\u671F: \", date && date.toLocaleDateString(), \" \", props.selectedCourse && props.selectedCourse.time), /*#__PURE__*/React.createElement(Card.Text, {\n    className: \"courseInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"\\u4E0A\\u8AB2\\u5730\\u9EDE: \", props.selectedCourse && props.selectedCourse.venue), /*#__PURE__*/React.createElement(Card.Text, {\n    className: \"courseInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"\\u8AB2\\u7A0B\\u5C0E\\u5E2B: \", props.selectedCourse && props.selectedCourse.tutor), /*#__PURE__*/React.createElement(Card.Text, {\n    className: \"courseInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"\\u5C1A\\u9918\\u540D\\u984D: \", props.selectedCourse && props.selectedCourse.quota), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    className: \"adminEnrollRecordBtn\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"\\u67E5\\u770B\\u5831\\u540D\\u60C5\\u6CC1\"))));\n}","map":{"version":3,"sources":["/Users/cheukheilo/Desktop/hohcsSignup/Frontend/src/components/Adminastrative/CourseDetail.jsx"],"names":["React","useState","qs","Card","Button","EnrollDetail","CourseDetail","props","console","log","date","selectedCourse","Date","getCourseDetail","setGetCourseDetail","courseDetail","setCourseDetail","handleClick","courseID","_id","url","options","method","headers","body","stringify","fetch","then","res","json","message","alert","handleDelete","status","window","location","reload","courseName","description","toLocaleDateString","time","venue","tutor","quota"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA4B;AAEzCC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAEE,MAAIC,IAAJ;;AAEA,MAAGH,KAAK,CAACI,cAAT,EAAwB;AACtBD,IAAAA,IAAI,GAAG,IAAIE,IAAJ,CAASL,KAAK,CAACI,cAAN,CAAqBD,IAA9B,CAAP;AACD;;AACD,QAAM,CAACG,eAAD,EAAkBC,kBAAlB,IAAwCb,QAAQ,CAAC,KAAD,CAAtD;AAEA,QAAM,CAACc,YAAD,EAAeC,eAAf,IAAkCf,QAAQ,CAAC,EAAD,CAAhD;;AAEA,WAASgB,WAAT,GAAsB;AAEpB,UAAMC,QAAQ,GAAGX,KAAK,CAACI,cAAN,CAAqBQ,GAAtC;AAEA,UAAMC,GAAG,GAAG,oCAAZ;AACE,UAAMC,OAAO,GAAG;AACZC,MAAAA,MAAM,EAAE,MADI;AAEZC,MAAAA,OAAO,EAAE;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OAFG;AAMZC,MAAAA,IAAI,EAAEtB,EAAE,CAACuB,SAAH,CAAa;AAACP,QAAAA,QAAQ,EAAEA;AAAX,OAAb;AANM,KAAhB;AASAQ,IAAAA,KAAK,CAACN,GAAD,EAAMC,OAAN,CAAL,CACCM,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMC,GAAG,IAAI;AACXpB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,GAAZ;;AACE,UAAGA,GAAG,CAACE,OAAJ,KAAgB,QAAnB,EAA4B;AAC1BC,QAAAA,KAAK,CAACH,GAAG,CAACE,OAAL,CAAL;AACD,OAFD,MAEK;AACHhB,QAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAE,QAAAA,eAAe,CAACY,GAAD,CAAf;AACD;AACJ,KAVD;AAYH;;AAED,WAASI,YAAT,GAAuB;AAErB,UAAMd,QAAQ,GAAGX,KAAK,CAACI,cAAN,CAAqBQ,GAAtC;AAEA,UAAMC,GAAG,GAAG,oCAAZ;AACE,UAAMC,OAAO,GAAG;AACZC,MAAAA,MAAM,EAAE,MADI;AAEZC,MAAAA,OAAO,EAAE;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OAFG;AAMZC,MAAAA,IAAI,EAAEtB,EAAE,CAACuB,SAAH,CAAa;AAACP,QAAAA,QAAQ,EAAEA;AAAX,OAAb;AANM,KAAhB;AASAQ,IAAAA,KAAK,CAACN,GAAD,EAAMC,OAAN,CAAL,CACCM,IADD,CACMC,GAAG,IAAI;AACX,UAAGA,GAAG,CAACK,MAAJ,KAAe,GAAlB,EAAsB;AACpBF,QAAAA,KAAK,CAAC,QAAD,CAAL;AACAG,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACD,OAHD,MAGK;AACHL,QAAAA,KAAK,CAAC,YAAD,CAAL;AACD;AACF,KARD;AAUH;;AAED,MAAGlB,eAAH,EAAmB;AACjB,wBAAO,oBAAC,YAAD;AAAc,MAAA,YAAY,EAAEE,YAA5B;AAA0C,MAAA,MAAM,EAAER,KAAK,CAACI,cAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAGD,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,OAAO,CAACC,GAAR,CAAYI,eAAZ,CADL,eAEI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,SAAS,EAAC,mBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACM;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BN,KAAK,CAACI,cAAN,IAAwBJ,KAAK,CAACI,cAAN,CAAqB0B,UAA1E,CADN,eAEM,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,QAAhB;AAAyB,IAAA,SAAS,EAAC,WAAnC;AAA+C,IAAA,OAAO,EAAEL,YAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFN,CADF,eAKE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2CzB,KAAK,CAACI,cAAN,IAAwBJ,KAAK,CAACI,cAAN,CAAqB2B,WAAxF,CADF,eAEE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,SAAS,EAAC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAyC5B,IAAI,IAAIA,IAAI,CAAC6B,kBAAL,EAAjD,OAA6EhC,KAAK,CAACI,cAAN,IAAwBJ,KAAK,CAACI,cAAN,CAAqB6B,IAA1H,CAFF,eAGE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,SAAS,EAAC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAyCjC,KAAK,CAACI,cAAN,IAAwBJ,KAAK,CAACI,cAAN,CAAqB8B,KAAtF,CAHF,eAIE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,SAAS,EAAC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAyClC,KAAK,CAACI,cAAN,IAAwBJ,KAAK,CAACI,cAAN,CAAqB+B,KAAtF,CAJF,eAKE,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,SAAS,EAAC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAyCnC,KAAK,CAACI,cAAN,IAAwBJ,KAAK,CAACI,cAAN,CAAqBgC,KAAtF,CALF,eAME,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,SAAS,EAAC,sBAApC;AAA2D,IAAA,OAAO,EAAE1B,WAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CANF,CALF,CAFJ,CADJ;AAoBH","sourcesContent":["import React, { useState } from 'react';\nimport qs from 'qs';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport EnrollDetail from './EnrollDetail';\n\nexport default function CourseDetail(props){\n\n  console.log(\"CourseDetail\")\n\n    var date;\n\n    if(props.selectedCourse){\n      date = new Date(props.selectedCourse.date);\n    }\n    const [getCourseDetail, setGetCourseDetail] = useState(false);\n\n    const [courseDetail, setCourseDetail] = useState({});\n\n    function handleClick(){\n\n      const courseID = props.selectedCourse._id;\n\n      const url = 'http://localhost:5000/enrollDetail';\n        const options = {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: qs.stringify({courseID: courseID})\n        };\n\n        fetch(url, options)\n        .then(res => res.json())\n        .then(res => {\n          console.log(res);\n            if(res.message === \"未有報名記錄\"){\n              alert(res.message)\n            }else{\n              setGetCourseDetail(true);\n              setCourseDetail(res);\n            }\n        })\n\n    }\n\n    function handleDelete(){\n\n      const courseID = props.selectedCourse._id;\n\n      const url = 'http://localhost:5000/deleteCourse';\n        const options = {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: qs.stringify({courseID: courseID})\n        };\n\n        fetch(url, options)\n        .then(res => {\n          if(res.status === 200){\n            alert(\"成功刪除課程\");\n            window.location.reload(true);\n          }else{\n            alert(\"發生錯誤，請稍後再試\");\n          }\n        })\n\n    }\n\n    if(getCourseDetail){\n      return <EnrollDetail courseDetail={courseDetail} course={props.selectedCourse}/>\n    }\n    \n    \n    return(\n        <div>\n            {console.log(getCourseDetail)}\n            <Card className=\"detailCard\">\n              <Card.Header className=\"cardDetailWrapper\">\n                    <h1 className=\"courseTitle\">{props.selectedCourse && props.selectedCourse.courseName}</h1>\n                    <Button variant=\"danger\" className=\"deleteBtn\" onClick={handleDelete}>刪除課程</Button>\n              </Card.Header>\n              <Card.Body>\n                <Card.Title className=\"courseDescription\">{props.selectedCourse && props.selectedCourse.description}</Card.Title>\n                <Card.Text className=\"courseInfo\">上課日期: {date && date.toLocaleDateString()} {props.selectedCourse && props.selectedCourse.time}</Card.Text>\n                <Card.Text className=\"courseInfo\">上課地點: {props.selectedCourse && props.selectedCourse.venue}</Card.Text>\n                <Card.Text className=\"courseInfo\">課程導師: {props.selectedCourse && props.selectedCourse.tutor}</Card.Text>\n                <Card.Text className=\"courseInfo\">尚餘名額: {props.selectedCourse && props.selectedCourse.quota}</Card.Text>\n                <Button variant=\"primary\" className=\"adminEnrollRecordBtn\" onClick={handleClick}>查看報名情況</Button>\n              </Card.Body>\n            </Card>\n        </div>\n    );\n\n}"]},"metadata":{},"sourceType":"module"}