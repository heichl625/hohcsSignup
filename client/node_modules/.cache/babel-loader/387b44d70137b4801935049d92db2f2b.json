{"ast":null,"code":"import _slicedToArray from\"/Users/cheukheilo/Desktop/hohcsSignup/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Button from'react-bootstrap/Button';import Nav from'react-bootstrap/Nav';import Navbar from'react-bootstrap/Navbar';import{Redirect}from\"react-router-dom\";function Header(){var _useState=useState(\"false\"),_useState2=_slicedToArray(_useState,2),isLoggedOut=_useState2[0],setLoggedOut=_useState2[1];console.log(\"rendering header\");function handleLogout(){var url='/logout';var options={method:\"GET\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"}};fetch(url,options).then(function(res){if(res.status===200){console.log(\"Logout now\");alert(\"登出成功\");localStorage.clear();setLoggedOut(\"true\");}else{return\"error\";}}).catch(function(err){console.log(\"Login: \"+err);});}return/*#__PURE__*/React.createElement(Navbar,{bg:\"primary\",variant:\"dark\"},/*#__PURE__*/React.createElement(Navbar.Brand,{href:\"/\"},\"\\u9748\\u5BE6\\u54E1\\u5DE5\\u57F9\\u8A13\\u8AB2\\u7A0B\\u5831\\u540D\\u7CFB\\u7D71\"),/*#__PURE__*/React.createElement(Nav,{className:\"mr-auto\"},/*#__PURE__*/React.createElement(Nav.Link,{href:\"/register-record\"},\"\\u5831\\u540D\\u8A18\\u9304\")),/*#__PURE__*/React.createElement(Button,{variant:\"outline-light\",onClick:handleLogout},\"\\u767B\\u51FA\"),isLoggedOut===\"true\"&&/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}));}export default React.memo(Header);","map":{"version":3,"sources":["/Users/cheukheilo/Desktop/hohcsSignup/client/src/components/Header.jsx"],"names":["React","useState","Button","Nav","Navbar","Redirect","Header","isLoggedOut","setLoggedOut","console","log","handleLogout","url","options","method","headers","fetch","then","res","status","alert","localStorage","clear","catch","err","memo"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAEA,QAASC,CAAAA,MAAT,EAAiB,eAEuBL,QAAQ,CAAC,OAAD,CAF/B,wCAENM,WAFM,eAEOC,YAFP,eAIbC,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAGA,QAASC,CAAAA,YAAT,EAAuB,CAEnB,GAAMC,CAAAA,GAAG,CAAG,SAAZ,CACA,GAAMC,CAAAA,OAAO,CAAG,CACZC,MAAM,CAAE,KADI,CAEZC,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAFG,CAAhB,CAQAC,KAAK,CAACJ,GAAD,CAAMC,OAAN,CAAL,CACCI,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAGA,GAAG,CAACC,MAAJ,GAAe,GAAlB,CAAsB,CAClBV,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAU,KAAK,CAAC,MAAD,CAAL,CACAC,YAAY,CAACC,KAAb,GACAd,YAAY,CAAC,MAAD,CAAZ,CACH,CALD,IAKK,CACD,MAAO,OAAP,CACH,CAEJ,CAXD,EAWGe,KAXH,CAWS,SAAAC,GAAG,CAAI,CACZf,OAAO,CAACC,GAAR,CAAY,UAAYc,GAAxB,EACH,CAbD,EAeH,CAED,mBAEA,oBAAC,MAAD,EAAQ,EAAE,CAAC,SAAX,CAAqB,OAAO,CAAC,MAA7B,eACI,oBAAC,MAAD,CAAQ,KAAR,EAAc,IAAI,CAAC,GAAnB,6EADJ,cAEI,oBAAC,GAAD,EAAK,SAAS,CAAC,SAAf,eACI,oBAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,kBAAf,6BADJ,CAFJ,cAKI,oBAAC,MAAD,EAAQ,OAAO,CAAC,eAAhB,CAAgC,OAAO,CAAEb,YAAzC,iBALJ,CAOMJ,WAAW,GAAK,MAAhB,eAA0B,oBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAPhC,CAFA,CAcH,CAED,cAAeP,CAAAA,KAAK,CAACyB,IAAN,CAAWnB,MAAX,CAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport { Redirect } from \"react-router-dom\";\n\nfunction Header(){\n\n    const [isLoggedOut, setLoggedOut] = useState(\"false\");\n\n    console.log(\"rendering header\");\n\n\n    function handleLogout(){\n\n        const url = '/logout';\n        const options = {\n            method: \"GET\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\"\n            }\n        };\n\n        fetch(url, options)\n        .then(res => {\n            if(res.status === 200){\n                console.log(\"Logout now\");\n                alert(\"登出成功\");\n                localStorage.clear();\n                setLoggedOut(\"true\");\n            }else{\n                return \"error\";\n            }\n            \n        }).catch(err => {\n            console.log(\"Login: \" + err);\n        });\n\n    }\n\n    return (\n\n    <Navbar bg=\"primary\" variant=\"dark\">\n        <Navbar.Brand href=\"/\">靈實員工培訓課程報名系統</Navbar.Brand>\n        <Nav className=\"mr-auto\">\n            <Nav.Link href=\"/register-record\">報名記錄</Nav.Link>\n        </Nav>\n        <Button variant=\"outline-light\" onClick={handleLogout}>登出</Button>\n\n        { isLoggedOut === \"true\" && <Redirect to=\"/login\" /> }\n    </Navbar>\n    \n    );\n\n}\n\nexport default React.memo(Header);\n\n"]},"metadata":{},"sourceType":"module"}