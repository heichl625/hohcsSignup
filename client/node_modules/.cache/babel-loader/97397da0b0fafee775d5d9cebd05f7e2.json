{"ast":null,"code":"var _jsxFileName = \"/Volumes/Ext_drive/Web Development/hohcssignup/Frontend/src/components/Adminastrative/WaitingList.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport EnrollDetail from './EnrollDetail';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport qs from 'qs';\nexport default function WaitingList(props) {\n  console.log(props.course);\n  const courseID = props.courseID;\n  const [isBack, setIsBack] = useState(false);\n  const [records, setRecords] = useState([]);\n  useEffect(() => {\n    const url = 'http://localhost:5000/waitinglistByCourseID';\n    const options = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: qs.stringify({\n        courseID: courseID\n      })\n    };\n    fetch(url, options).then(res => res.json()).then(res => {\n      console.log(res.records[0].staffid);\n\n      if (records.length === 0) {\n        setRecords(res.records);\n      }\n    });\n  });\n\n  function backBtnClicked() {\n    setIsBack(true);\n  }\n\n  if (isBack) {\n    return /*#__PURE__*/React.createElement(EnrollDetail, {\n      courseDetail: props.courseDetail,\n      course: props.course,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"detailCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"enrollHeaderWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"backBtn\",\n    onClick: backBtnClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"\\u8FD4\\u56DE\\u67E5\\u770B\\u5831\\u540D\\u540D\\u55AE\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"enrollDetailTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, props.courseDetail.courseName, \" (\\u5F8C\\u88DC\\u540D\\u55AE)\")), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"\\u8077\\u54E1\\u7DE8\\u865F\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, \"\\u59D3\\u540D\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"\\u96FB\\u90F5\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"\\u55AE\\u4F4D\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \"\\u8077\\u4F4D\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, records && records.map(record => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 37\n      }\n    }, record.staffid), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 37\n      }\n    }, record.username), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 37\n      }\n    }, record.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 37\n      }\n    }, record.dept), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 37\n      }\n    }, record.post));\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"\\u7E3D\\u5F8C\\u88DC\\u4EBA\\u6578\\uFF1A \", records && records.length)));\n}","map":{"version":3,"sources":["/Volumes/Ext_drive/Web Development/hohcssignup/Frontend/src/components/Adminastrative/WaitingList.jsx"],"names":["React","useState","useEffect","EnrollDetail","Card","Table","Button","qs","WaitingList","props","console","log","course","courseID","isBack","setIsBack","records","setRecords","url","options","method","headers","body","stringify","fetch","then","res","json","staffid","length","backBtnClicked","courseDetail","courseName","map","record","username","email","dept","post"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport EnrollDetail from './EnrollDetail';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport qs from 'qs';\n\nexport default function WaitingList(props){\n\n    console.log(props.course);\n\n    const courseID = props.courseID;\n    const [isBack, setIsBack] = useState(false);\n    const [records, setRecords] = useState([]);\n\n    useEffect(() => {\n\n        const url = 'http://localhost:5000/waitinglistByCourseID';\n        const options = {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: qs.stringify({\n                courseID: courseID\n            })\n        };\n\n        fetch(url, options)\n        .then(res => res.json())\n        .then(res => {\n            console.log(res.records[0].staffid);\n            if(records.length === 0){\n                setRecords(res.records);\n            }\n        })\n    })\n\n    function backBtnClicked(){\n        setIsBack(true);\n    }\n\n    if(isBack){\n        return <EnrollDetail courseDetail={props.courseDetail} course={props.course}/>\n    }\n\n    return (\n\n        <Card className=\"detailCard\">\n            <Card.Header className=\"enrollHeaderWrapper\">\n                <Button className=\"backBtn\" onClick={backBtnClicked}>返回查看報名名單</Button>\n                <h1 className=\"enrollDetailTitle\">{props.courseDetail.courseName} (後補名單)</h1>\n            </Card.Header>\n            <Card.Body>\n                <Table striped bordered hover>\n                    <thead>\n                      <tr>\n                        <th>職員編號</th>\n                        <th>姓名</th>\n                        <th>電郵</th>\n                        <th>單位</th>\n                        <th>職位</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n\n                         {records && records.map(record => {\n                            return (\n                                <tr>\n                                    <td>{record.staffid}</td>\n                                    <td>{record.username}</td>\n                                    <td>{record.email}</td>\n                                    <td>{record.dept}</td>\n                                    <td>{record.post}</td>\n                                </tr>\n                            );\n                        })}\n                      \n                    </tbody>\n                </Table>\n                <p>總後補人數： { records && records.length }</p>\n          </Card.Body>\n        </Card>\n\n    ); \n\n}"]},"metadata":{},"sourceType":"module"}